@{
    ViewData["Title"] = "Simulados";
}

<div class="d-flex justify-content-center mb-3 metric-modes">
    <div class="btn-group" role="group" aria-label="Modo gráficos">
        <button type="button" id="btnModoGeral" class="btn selected" aria-pressed="true">Geral</button>
        <button type="button" id="btnModoMaterias" class="btn">Desempenhos por matéria</button>
    </div>
</div>
<div class="mb-4" id="chartsWrapper">
    <div class="d-flex flex-wrap justify-content-center align-items-start" style="gap:5rem;">
        <div style="display:flex;flex-direction:column;gap:0.75rem;align-items:flex-start;">
            <h6 class="mb-0">Desempenho Geral (Questões)</h6>
            <div class="d-flex align-items-start gap-4">
                <div id="chartQuestoes"
                     class="rounded-circle border position-relative"
                     style="width:240px;height:240px;display:flex;align-items:center;justify-content:center;font-size:0.9rem;background:conic-gradient(#5492ca 0deg 150deg,#ef7b1b 150deg 300deg,#0b2440 300deg 360deg);">
                </div>
                <div class="flex-grow-1" style="min-width:220px;">
                    <table class="table table-sm mb-0" style="max-width:260px;">
                        <thead>
                            <tr>
                                <th>Categoria</th>
                                <th class="text-end">%</th>
                            </tr>
                        </thead>
                        <tbody id="legendQuestoes">
                            <tr>
                                <td><span class="badge" style="background:#5492ca">&nbsp;</span> Certas</td>
                                <td class="text-end">41,7%</td>
                            </tr>
                            <tr>
                                <td><span class="badge" style="background:#ef7b1b">&nbsp;</span> Erradas</td>
                                <td class="text-end">50,0%</td>
                            </tr>
                            <tr>
                                <td><span class="badge" style="background:#0b2440">&nbsp;</span> Em branco</td>
                                <td class="text-end">8,3%</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
        <div style="display:flex;flex-direction:column;gap:0.75rem;align-items:flex-start;">
            <h6 class="mb-0">Presença (Aulas e Simulados)</h6>
            <div class="d-flex align-items-start gap-4">
                <div id="chartPresenca"
                     class="rounded-circle border position-relative"
                     style="width:240px;height:240px;display:flex;align-items:center;justify-content:center;font-size:0.9rem;background:conic-gradient(#5492ca 0deg 288deg,#ef7b1b 288deg 360deg);">
                </div>
                <div class="flex-grow-1" style="min-width:220px;">
                    <table class="table table-sm mb-0" style="max-width:260px;">
                        <thead>
                            <tr>
                                <th>Status</th>
                                <th class="text-end">%</th>
                            </tr>
                        </thead>
                        <tbody id="legendPresenca">
                            <tr>
                                <td><span class="badge" style="background:#5492ca">&nbsp;</span> Presente</td>
                                <td class="text-end">80,0%</td>
                            </tr>
                            <tr>
                                <td><span class="badge" style="background:#ef7b1b">&nbsp;</span> Ausente</td>
                                <td class="text-end">20,0%</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="mb-4 subjects-wrapper" id="subjectsWrapper">
    <h6 class="text-center mb-3">Desempenhos por matéria</h6>
    <div class="subjects-grid">
        <div class="subject-card">
            <div class="subject-chart" style="background:conic-gradient(#5492ca 0deg 216deg,#ef7b1b 216deg 324deg,#0b2440 324deg 360deg);"></div>
            <div class="subject-legend">
                <table class="table table-sm mb-0 w-100 text-center">
                    <thead><tr><th colspan="2">Matemática</th></tr></thead>
                    <tbody>
                        <tr><td class="text-start"><span class="badge" style="background:#5492ca">&nbsp;</span> Certas</td><td class="text-end">60%</td></tr>
                        <tr><td class="text-start"><span class="badge" style="background:#ef7b1b">&nbsp;</span> Erradas</td><td class="text-end">30%</td></tr>
                        <tr><td class="text-start"><span class="badge" style="background:#0b2440">&nbsp;</span> Em branco</td><td class="text-end">10%</td></tr>
                    </tbody>
                </table>
            </div>
        </div>
        <div class="subject-card">
            <div class="subject-chart" style="background:conic-gradient(#5492ca 0deg 252deg,#ef7b1b 252deg 324deg,#0b2440 324deg 360deg);"></div>
            <div class="subject-legend">
                <table class="table table-sm mb-0 w-100 text-center">
                    <thead><tr><th colspan="2">Português</th></tr></thead>
                    <tbody>
                        <tr><td class="text-start"><span class="badge" style="background:#5492ca">&nbsp;</span> Certas</td><td class="text-end">70%</td></tr>
                        <tr><td class="text-start"><span class="badge" style="background:#ef7b1b">&nbsp;</span> Erradas</td><td class="text-end">20%</td></tr>
                        <tr><td class="text-start"><span class="badge" style="background:#0b2440">&nbsp;</span> Em branco</td><td class="text-end">10%</td></tr>
                    </tbody>
                </table>
            </div>
        </div>
        <div class="subject-card">
            <div class="subject-chart" style="background:conic-gradient(#5492ca 0deg 198deg,#ef7b1b 198deg 324deg,#0b2440 324deg 360deg);"></div>
            <div class="subject-legend">
                <table class="table table-sm mb-0 w-100 text-center">
                    <thead><tr><th colspan="2">Física</th></tr></thead>
                    <tbody>
                        <tr><td class="text-start"><span class="badge" style="background:#5492ca">&nbsp;</span> Certas</td><td class="text-end">55%</td></tr>
                        <tr><td class="text-start"><span class="badge" style="background:#ef7b1b">&nbsp;</span> Erradas</td><td class="text-end">35%</td></tr>
                        <tr><td class="text-start"><span class="badge" style="background:#0b2440">&nbsp;</span> Em branco</td><td class="text-end">10%</td></tr>
                    </tbody>
                </table>
            </div>
        </div>
        <div class="subject-card">
            <div class="subject-chart" style="background:conic-gradient(#5492ca 0deg 210deg,#ef7b1b 210deg 330deg,#0b2440 330deg 360deg);"></div>
            <div class="subject-legend">
                <table class="table table-sm mb-0 w-100 text-center">
                    <thead><tr><th colspan="2">Química</th></tr></thead>
                    <tbody>
                        <tr><td class="text-start"><span class="badge" style="background:#5492ca">&nbsp;</span> Certas</td><td class="text-end">58%</td></tr>
                        <tr><td class="text-start"><span class="badge" style="background:#ef7b1b">&nbsp;</span> Erradas</td><td class="text-end">32%</td></tr>
                        <tr><td class="text-start"><span class="badge" style="background:#0b2440">&nbsp;</span> Em branco</td><td class="text-end">10%</td></tr>
                    </tbody>
                </table>
            </div>
        </div>
        <div class="subject-card">
            <div class="subject-chart" style="background:conic-gradient(#5492ca 0deg 240deg,#ef7b1b 240deg 312deg,#0b2440 312deg 360deg);"></div>
            <div class="subject-legend">
                <table class="table table-sm mb-0 w-100 text-center">
                    <thead><tr><th colspan="2">Biologia</th></tr></thead>
                    <tbody>
                        <tr><td class="text-start"><span class="badge" style="background:#5492ca">&nbsp;</span> Certas</td><td class="text-end">66%</td></tr>
                        <tr><td class="text-start"><span class="badge" style="background:#ef7b1b">&nbsp;</span> Erradas</td><td class="text-end">24%</td></tr>
                        <tr><td class="text-start"><span class="badge" style="background:#0b2440">&nbsp;</span> Em branco</td><td class="text-end">10%</td></tr>
                    </tbody>
                </table>
            </div>
        </div>
        <div class="subject-card">
            <div class="subject-chart" style="background:conic-gradient(#5492ca 0deg 228deg,#ef7b1b 228deg 330deg,#0b2440 330deg 360deg);"></div>
            <div class="subject-legend">
                <table class="table table-sm mb-0 w-100 text-center">
                    <thead><tr><th colspan="2">História</th></tr></thead>
                    <tbody>
                        <tr><td class="text-start"><span class="badge" style="background:#5492ca">&nbsp;</span> Certas</td><td class="text-end">63%</td></tr>
                        <tr><td class="text-start"><span class="badge" style="background:#ef7b1b">&nbsp;</span> Erradas</td><td class="text-end">27%</td></tr>
                        <tr><td class="text-start"><span class="badge" style="background:#0b2440">&nbsp;</span> Em branco</td><td class="text-end">10%</td></tr>
                    </tbody>
                </table>
            </div>
        </div>
        <div class="subject-card">
            <div class="subject-chart" style="background:conic-gradient(#5492ca 0deg 234deg,#ef7b1b 234deg 330deg,#0b2440 330deg 360deg);"></div>
            <div class="subject-legend">
                <table class="table table-sm mb-0 w-100 text-center">
                    <thead><tr><th colspan="2">Geografia</th></tr></thead>
                    <tbody>
                        <tr><td class="text-start"><span class="badge" style="background:#5492ca">&nbsp;</span> Certas</td><td class="text-end">65%</td></tr>
                        <tr><td class="text-start"><span class="badge" style="background:#ef7b1b">&nbsp;</span> Erradas</td><td class="text-end">25%</td></tr>
                        <tr><td class="text-start"><span class="badge" style="background:#0b2440">&nbsp;</span> Em branco</td><td class="text-end">10%</td></tr>
                    </tbody>
                </table>
            </div>
        </div>
        <div class="subject-card">
            <div class="subject-chart" style="background:conic-gradient(#5492ca 0deg 246deg,#ef7b1b 246deg 324deg,#0b2440 324deg 360deg);"></div>
            <div class="subject-legend">
                <table class="table table-sm mb-0 w-100 text-center">
                    <thead><tr><th colspan="2">Inglês</th></tr></thead>
                    <tbody>
                        <tr><td class="text-start"><span class="badge" style="background:#5492ca">&nbsp;</span> Certas</td><td class="text-end">68%</td></tr>
                        <tr><td class="text-start"><span class="badge" style="background:#ef7b1b">&nbsp;</span> Erradas</td><td class="text-end">22%</td></tr>
                        <tr><td class="text-start"><span class="badge" style="background:#0b2440">&nbsp;</span> Em branco</td><td class="text-end">10%</td></tr>
                    </tbody>
                </table>
            </div>
        </div>
        <div class="subject-card">
            <div class="subject-chart" style="background:conic-gradient(#5492ca 0deg 270deg,#ef7b1b 270deg 324deg,#0b2440 324deg 360deg);"></div>
            <div class="subject-legend">
                <table class="table table-sm mb-0 w-100 text-center">
                    <thead><tr><th colspan="2">Artes</th></tr></thead>
                    <tbody>
                        <tr><td class="text-start"><span class="badge" style="background:#5492ca">&nbsp;</span> Certas</td><td class="text-end">75%</td></tr>
                        <tr><td class="text-start"><span class="badge" style="background:#ef7b1b">&nbsp;</span> Erradas</td><td class="text-end">15%</td></tr>
                        <tr><td class="text-start"><span class="badge" style="background:#0b2440">&nbsp;</span> Em branco</td><td class="text-end">10%</td></tr>
                    </tbody>
                </table>
            </div>
        </div>
        <div class="subject-card">
            <div class="subject-chart" style="background:conic-gradient(#5492ca 0deg 288deg,#ef7b1b 288deg 324deg,#0b2440 324deg 360deg);"></div>
            <div class="subject-legend">
                <table class="table table-sm mb-0 w-100 text-center">
                    <thead><tr><th colspan="2">Educação Física</th></tr></thead>
                    <tbody>
                        <tr><td class="text-start"><span class="badge" style="background:#5492ca">&nbsp;</span> Certas</td><td class="text-end">80%</td></tr>
                        <tr><td class="text-start"><span class="badge" style="background:#ef7b1b">&nbsp;</span> Erradas</td><td class="text-end">10%</td></tr>
                        <tr><td class="text-start"><span class="badge" style="background:#0b2440">&nbsp;</span> Em branco</td><td class="text-end">10%</td></tr>
                    </tbody>
                </table>
            </div>
        </div>
        <div class="subject-card">
            <div class="subject-chart" style="background:conic-gradient(#5492ca 0deg 222deg,#ef7b1b 222deg 330deg,#0b2440 330deg 360deg);"></div>
            <div class="subject-legend">
                <table class="table table-sm mb-0 w-100 text-center">
                    <thead><tr><th colspan="2">Filosofia</th></tr></thead>
                    <tbody>
                        <tr><td class="text-start"><span class="badge" style="background:#5492ca">&nbsp;</span> Certas</td><td class="text-end">62%</td></tr>
                        <tr><td class="text-start"><span class="badge" style="background:#ef7b1b">&nbsp;</span> Erradas</td><td class="text-end">28%</td></tr>
                        <tr><td class="text-start"><span class="badge" style="background:#0b2440">&nbsp;</span> Em branco</td><td class="text-end">10%</td></tr>
                    </tbody>
                </table>
            </div>
        </div>
        <div class="subject-card">
            <div class="subject-chart" style="background:conic-gradient(#5492ca 0deg 204deg,#ef7b1b 204deg 330deg,#0b2440 330deg 360deg);"></div>
            <div class="subject-legend">
                <table class="table table-sm mb-0 w-100 text-center">
                    <thead><tr><th colspan="2">Sociologia</th></tr></thead>
                    <tbody>
                        <tr><td class="text-start"><span class="badge" style="background:#5492ca">&nbsp;</span> Certas</td><td class="text-end">57%</td></tr>
                        <tr><td class="text-start"><span class="badge" style="background:#ef7b1b">&nbsp;</span> Erradas</td><td class="text-end">33%</td></tr>
                        <tr><td class="text-start"><span class="badge" style="background:#0b2440">&nbsp;</span> Em branco</td><td class="text-end">10%</td></tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>

@section Scripts {
    <script>
    (function(){
        const btnGeral = document.getElementById('btnModoGeral');
        const btnMaterias = document.getElementById('btnModoMaterias');
        const chartsWrapper = document.getElementById('chartsWrapper');
        const subjectsWrapper = document.getElementById('subjectsWrapper');
        function selecionar(btn){ [btnGeral, btnMaterias].forEach(b=> b.classList.remove('selected')); btn.classList.add('selected'); }
        btnGeral.addEventListener('click', ()=>{ selecionar(btnGeral); chartsWrapper.style.display=''; subjectsWrapper.style.display='none'; });
        btnMaterias.addEventListener('click', ()=>{ selecionar(btnMaterias); chartsWrapper.style.display='none'; subjectsWrapper.style.display='block'; });
    })();
    </script>
}